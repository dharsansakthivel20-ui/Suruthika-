<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy New Year Suruthi ‚ù§Ô∏è</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI}
body{background:#0b0014;color:white;overflow:hidden}

/* COMMON */
.page{
  position:absolute; inset:0;
  display:flex; flex-direction:column;
  justify-content:center; align-items:center;
  text-align:center;
  transition:1s;
}
.hidden{opacity:0;pointer-events:none}

/* BUTTON */
button{
  margin:10px;
  padding:10px 22px;
  border:none;border-radius:20px;
  background:#ff4d8d;
  color:white;font-size:14px;
}

/* HEARTS */
.heart{
  position:absolute; bottom:-30px;
  animation:float 7s linear infinite;
}
@keyframes float{
  from{transform:translateY(0);opacity:1}
  to{transform:translateY(-120vh);opacity:0}
}

/* FIREWORK */
.firework{
  position:absolute;width:6px;height:6px;
  background:#ff77aa;border-radius:50%;
  animation:boom 1.5s linear infinite;
}
@keyframes boom{
  from{transform:scale(0);opacity:1}
  to{transform:scale(6);opacity:0}
}

/* PAGE 1 */
#page1{background:radial-gradient(circle,#ff4d8d,#18001f)}
.circle{
  width:150px;height:150px;border-radius:50%;
  border:3px solid rgba(255,255,255,.5);
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 0 30px #ff5fa2;
  animation:pulse 1.5s infinite;
}
@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.1)}
  100%{transform:scale(1)}
}

/* PAGE 2 */
#page2{background:linear-gradient(135deg,#12001f,#ff3d81)}
.big-heart{font-size:100px;animation:pulse 1.2s infinite}
.glow{font-size:2em;text-shadow:0 0 20px pink}

/* PAGE 3 (RECAP + PHOTOS) */
#recapText{
  font-size:2em;
  color:#ffd6e8;
  text-shadow:0 0 25px #ff5fa2;
  animation:recapGlow 1.5s infinite alternate;
  margin-bottom:20px;
}
@keyframes recapGlow{
  from{transform:scale(1);opacity:1}
  to{transform:scale(1.1);opacity:0.8}
}
.slider{
  width:230px;height:230px;
  overflow:hidden;border-radius:20px;
  box-shadow:0 0 30px pink;
}
.slider img{
  width:100%;height:100%;
  object-fit:cover;
  animation:photoAnim 1.5s;
}
@keyframes photoAnim{
  from{opacity:0;transform:translateX(60px) rotate(10deg)}
  to{opacity:1;transform:none}
}

/* PAGE 4 */
.diary{
  width:180px;height:140px;
  background:#ff4d8d;border-radius:6px;
  box-shadow:0 0 20px pink;
  cursor:pointer;
}
.diaryContent{display:none;margin-top:20px;font-size:14px}

/* PAGE 5 */
#bigHeart{font-size:120px;animation:pulse 1.2s infinite}
#black{
  position:absolute;inset:0;
  background:black;opacity:0;
  transition:3s;pointer-events:none;
}
</style>
</head>

<body>

<audio id="bgMusic" loop>
  <source src="bgmusic.mp3">
</audio>

<!-- PAGE 1 -->
<div class="page" id="page1" onclick="startAll()">
  <div class="circle">‚ù§Ô∏è</div>
  <p>Tap anywhere</p>
</div>

<!-- PAGE 2 -->
<div class="page hidden" id="page2">
  <div class="big-heart">üíñ</div>
  <div class="glow">Happy New Year Suruthi ‚ú®</div>
  <button onclick="go(3)">Next ‚ûú</button>
</div>

<!-- PAGE 3 -->
<div class="page hidden" id="page3">

  <div id="recapText">‚ú® Recap of 2025 ‚ú®</div>

  <div class="slider">
    <img id="photo" src="photo1.jpg">
  </div>

  <p id="note">Park ‚ù§Ô∏è la meet pannathu</p>

  <div>
    <button onclick="prevPhoto()">‚óÄ Prev</button>
    <button onclick="nextPhoto()">Next ‚ñ∂</button>
  </div>

  <button id="photoDone" onclick="go(4)" style="display:none">
    Next Page ‚ûú
  </button>
</div>

<!-- PAGE 4 -->
<div class="page hidden" id="page4">
  <div class="diary" onclick="openDiary()"></div>

  <div class="diaryContent" id="diaryText">
    <p>
      Dear Suruthi üíñ<br><br>
      Indha puthu varusham namma rendu per
      romba understanding-oda,
      support-oda, love-oda irukka porom.
      <br><br>
      New Year Resolutions:<br>
      ‚Ä¢ More love ‚ù§Ô∏è<br>
      ‚Ä¢ More time ‚ú®<br>
      ‚Ä¢ Forever us üíç
    </p>

    <audio id="dedicateSong" controls>
      <source src="dedicate.mp3">
    </audio>

    <button onclick="go(5)">Next ‚ûú</button>
  </div>
</div>

<!-- PAGE 5 -->
<div class="page hidden" id="page5">
  <h2 id="l1"></h2>
  <h2 id="l2"></h2>
  <p id="l3"></p>
  <div id="bigHeart">üíó</div>
  <h2>Once again Happy New Year Suruthi ‚ú®</h2>
</div>

<div id="black"></div>

<script>
/* BACKGROUND EFFECTS */
for(let i=0;i<25;i++){
 let h=document.createElement("div");
 h.className="heart";h.innerHTML="üíñ";
 h.style.left=Math.random()*100+"vw";
 h.style.animationDuration=(4+Math.random()*6)+"s";
 document.body.appendChild(h);
}
setInterval(()=>{
 let f=document.createElement("div");
 f.className="firework";
 f.style.left=Math.random()*100+"vw";
 f.style.top=Math.random()*60+"vh";
 document.body.appendChild(f);
 setTimeout(()=>f.remove(),1500);
},900);

/* START */
function startAll(){
 let bg=document.getElementById("bgMusic");
 bg.volume=0.3;
 bg.play().catch(()=>{});
 go(2);
}

/* PAGE SWITCH */
function go(n){
 document.querySelectorAll(".page").forEach(p=>p.classList.add("hidden"));
 document.getElementById("page"+n).classList.remove("hidden");

 if(n===3){
   startRecap(); // üëà AUTO recap (no click)
 }
 if(n===5){
  type("l1","I love you dii pondatti ‚ù§Ô∏è",80);
  setTimeout(()=>type("l2","Umma üòòüòòüòòüòòüòòüòòüòò",80),2000);
  setTimeout(()=>type("l3","Be happy always. I will always be there for you üíñ",60),4000);
  setTimeout(()=>document.getElementById("black").style.opacity=1,9000);
 }
}

/* RECAP AUTO */
let recapDone=false;
function startRecap(){
 let r=document.getElementById("recapText");
 r.style.opacity=1;
 setTimeout(()=>{ r.style.opacity=0; },2500);
 setTimeout(()=>{
   r.style.display="none";
   recapDone=true;
   showPhoto();   // first photo auto
 },3500);
}

/* PHOTO CONTROL */
let pics=["photo1.jpg","photo2.jpg","photo3.jpg","photo4.jpg","photo5.jpg"];
let notes=[
  "Park ‚ù§Ô∏è la meet pannathu",
  "Van la edutha photo",
  "Yoga day annaiku eduthathu",
  "Memories üí´",
  "Forever üíñ"
];
let i=0;

function showPhoto(){
 if(!recapDone) return;
 let img=document.getElementById("photo");
 let n=document.getElementById("note");
 img.style.animation="none"; img.offsetHeight;
 img.style.animation="photoAnim 1.5s";
 img.src=pics[i];
 n.innerText=notes[i];
 document.getElementById("photoDone").style.display =
   (i===pics.length-1)?"block":"none";
}
function nextPhoto(){ if(i<pics.length-1){i++;showPhoto();} }
function prevPhoto(){ if(i>0){i--;showPhoto();} }

/* DIARY */
function openDiary(){
 document.getElementById("diaryText").style.display="block";
}

/* SONG LOGIC */
let bg=document.getElementById("bgMusic");
let d=document.getElementById("dedicateSong");
if(d){
 d.onplay=()=>bg.pause();
 d.onpause=()=>bg.play();
 d.onended=()=>bg.play();
}

/* TYPE EFFECT */
function type(id,text,spd){
 let el=document.getElementById(id),k=0;
 let t=setInterval(()=>{
  el.innerHTML+=text[k++];
  if(k>=text.length)clearInterval(t);
 },spd);
}
</script>

</body>
</html>
