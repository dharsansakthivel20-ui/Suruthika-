<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy New Year Suruthi ‚ù§Ô∏è</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}
body{background:#0b0014;color:white;overflow:hidden}

/* COMMON */
.page{
  position:absolute; inset:0;
  display:flex; flex-direction:column;
  justify-content:center; align-items:center;
  text-align:center;
  transition:1s;
}
.hidden{opacity:0;pointer-events:none;transform:scale(1.05)}
button{
  margin-top:20px;
  padding:10px 22px;
  border:none;border-radius:20px;
  background:#ff4d8d;
  color:white;font-size:14px;
}

/* HEARTS */
.heart{
  position:absolute; bottom:-30px;
  animation:float 7s linear infinite;
}
@keyframes float{
  from{transform:translateY(0) scale(.6);opacity:1}
  to{transform:translateY(-120vh) scale(1.5);opacity:0}
}

/* FIREWORKS */
.firework{
  position:absolute;
  width:6px;height:6px;
  border-radius:50%;
  background:#ff77aa;
  animation:boom 1.5s linear infinite;
}
@keyframes boom{
  from{transform:scale(0);opacity:1}
  to{transform:scale(6);opacity:0}
}

/* PAGE 1 */
#page1{background:radial-gradient(circle,#ff4d8d,#18001f)}
.circle{
  width:150px;height:150px;
  border-radius:50%;
  border:3px solid rgba(255,255,255,.4);
  display:flex;justify-content:center;align-items:center;
  box-shadow:0 0 30px #ff5fa2;
}
.circle span{font-size:36px;animation:pulse 1s infinite}
@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.2)}
  100%{transform:scale(1)}
}

/* PAGE 2 */
#page2{background:linear-gradient(135deg,#12001f,#ff3d81)}
.glow{
  font-size:2em;
  text-shadow:0 0 25px #ffb3d9;
}
.type{
  margin-top:15px;
  font-size:1.05em;
  border-right:2px solid #fff;
  white-space:nowrap;
  overflow:hidden;
}

/* PAGE 3 ‚Äì PHOTO SLIDER */
.slider{
  width:230px;height:230px;
  position:relative;
  overflow:hidden;
  border-radius:18px;
  box-shadow:0 0 30px #ff5fa2;
}
.slide{
  position:absolute; inset:0;
  width:100%;height:100%;
  object-fit:cover;
  opacity:0;
  transform:translateX(120%) rotate(12deg);
  transition:1s ease;
}
.slide.active{
  opacity:1;
  transform:translateX(0) rotate(0deg);
}
.slide.exit-left{transform:translateX(-140%) rotate(-15deg);opacity:0}
.slide.exit-right{transform:translateX(140%) rotate(15deg);opacity:0}
.slide-note{
  margin-top:16px;
  font-size:14px;
  color:#ffd6e8;
  min-height:40px;
}

/* PAGE 4 */
#page4{background:#140018}

/* PAGE 5 */
#page5{background:radial-gradient(circle,#ff4d8d,#18001f)}
</style>
</head>

<body>

<!-- BACKGROUND MUSIC (HIDDEN) -->
<audio id="bgMusic" loop>
  <source src="bgmusic.mp3" type="audio/mpeg">
</audio>

<!-- PAGE 1 -->
<div class="page" id="page1" onclick="startBgMusic()">
  <div class="circle">
    <span>‚ù§Ô∏è</span>
  </div>
  <p style="margin-top:15px">Tap anywhere üíñ</p>
</div>

<!-- PAGE 2 -->
<div class="page hidden" id="page2">
  <div class="glow">Happy New Year Suruthi üíñ</div>
  <div class="type" id="typeText"></div>
  <button onclick="nextPage(3)">Next ‚ûú</button>
</div>

<!-- PAGE 3 -->
<div class="page hidden" id="page3">
  <div class="slider">
    <img src="photo1.jpg" class="slide active">
    <img src="photo2.jpg" class="slide">
    <img src="photo3.jpg" class="slide">
    <img src="photo4.jpg" class="slide">
    <img src="photo5.jpg" class="slide">
  </div>
  <div class="slide-note" id="slideNote"></div>
  <button onclick="nextPage(4)">Next ‚ûú</button>
</div>

<!-- PAGE 4 -->
<div class="page hidden" id="page4">
  <p style="margin-bottom:10px">This song is for you üíñ</p>
  <audio id="dedicateSong" controls>
    <source src="dedicate.mp3" type="audio/mpeg">
  </audio>
  <button onclick="nextPage(5)">Next ‚ûú</button>
</div>

<!-- PAGE 5 -->
<div class="page hidden" id="page5">
  <h2 class="glow" id="loveLine"></h2>
  <h2 style="margin-top:15px" id="kissLine"></h2>
  <p style="margin-top:20px;color:#ffd6e8" id="finalNote"></p>
</div>

<script>
/* BACKGROUND MUSIC */
let bgStarted=false;
function startBgMusic(){
  if(bgStarted) return;
  bgStarted=true;
  let bg=document.getElementById("bgMusic");
  bg.volume=0.3;
  bg.play().catch(()=>{});
  nextPage(2);
}

/* HEARTS */
for(let i=0;i<25;i++){
  let h=document.createElement("div");
  h.className="heart";
  h.innerHTML="üíñ";
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=(14+Math.random()*18)+"px";
  h.style.animationDuration=(4+Math.random()*6)+"s";
  document.body.appendChild(h);
}

/* FIREWORKS */
setInterval(()=>{
  let f=document.createElement("div");
  f.className="firework";
  f.style.left=Math.random()*100+"vw";
  f.style.top=Math.random()*60+"vh";
  document.body.appendChild(f);
  setTimeout(()=>f.remove(),1500);
},900);

/* PAGE SWITCH */
function nextPage(n){
  document.querySelectorAll(".page").forEach(p=>p.classList.add("hidden"));
  document.getElementById("page"+n).classList.remove("hidden");
  if(n===3) startSlider();
  if(n===5) startFinalText();
}

/* TYPE EFFECT PAGE 2 */
let msg="This year begins with you‚Ä¶ and ends with us üíï";
let ti=0;
function typeEffect(){
  if(ti<msg.length){
    document.getElementById("typeText").innerHTML+=msg.charAt(ti);
    ti++; setTimeout(typeEffect,70);
  }
}
setTimeout(typeEffect,1200);

/* PHOTO SLIDER */
let slides=document.querySelectorAll(".slide");
let note=document.getElementById("slideNote");
let notes=[
  "12 Feb ‚ù§Ô∏è First meet",
  "That smile ‚ú®",
  "Coffee date ‚òï",
  "Unexpected meet üí´",
  "Best memory üíñ"
];
let idx=0,dir=true,sliderStarted=false;
function startSlider(){
  if(sliderStarted) return;
  sliderStarted=true;
  setInterval(()=>{
    let cur=slides[idx];
    cur.classList.remove("active");
    cur.classList.add(dir?"exit-left":"exit-right");
    idx=(idx+1)%slides.length;
    slides[idx].className="slide active";
    note.innerHTML=notes[idx];
    dir=!dir;
  },2800);
}

/* DEDICATE SONG LOGIC */
let dedicate=document.getElementById("dedicateSong");
let bg=document.getElementById("bgMusic");

dedicate.addEventListener("play",()=>{ bg.pause(); });
dedicate.addEventListener("pause",()=>{ bg.play().catch(()=>{}); });
dedicate.addEventListener("ended",()=>{ bg.play().catch(()=>{}); });

/* FINAL PAGE TEXT */
function typeText(id,text,delay){
  let i=0,el=document.getElementById(id);
  let inter=setInterval(()=>{
    el.innerHTML+=text.charAt(i);
    i++; if(i>=text.length) clearInterval(inter);
  },delay);
}
function startFinalText(){
  typeText("loveLine","I love you pondatti ‚ù§Ô∏è",80);
  setTimeout(()=>typeText("kissLine","Umma üòòüòòüòòüòòüòòüòòüòò",80),2000);
  setTimeout(()=>typeText(
    "finalNote",
    "Be happy always.<br>I will always be there for you üíñ",60
  ),4200);
}
</script>

</body>
</html>
